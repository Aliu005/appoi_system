# ูุธุงู ุงูููุงุนูุฏ - ุฃูุงูุฉ ุงูุฃุญุณุงุก
## Appointments System - Al-Ahsa Municipality

ูุธุงู ุฅููุชุฑููู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงูููุงุนูุฏ ุจูู ุงูููุงุทููู ูุฃูุงูุฉ ุงูุฃุญุณุงุกุ ูุตูู ุจุฃููุงู ูุชุฏุฑุฌุงุช ูุณุชูููุฉ ูู ูููุน ูุฑุต.

## ๐ ุงููููุฒุงุช

### ููููุงุทููู:
- โ ูุงุฌูุฉ ูุณุชุฎุฏู ุนุฑุจูุฉ ุจุณูุทุฉ ูุฌุฐุงุจุฉ
- โ ุญุฌุฒ ุงูููุงุนูุฏ ุจุณูููุฉ ููุณุฑ
- โ ุชุฃููุฏ ุงููููุฉ ุนุจุฑ ุฑูุฒ SMS (ูุญุงูุงุฉ)
- โ ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ุงูุนุงูุฉ
- โ ุชุตููู ูุชุฌุงูุจ ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ

### ููุฅุฏุงุฑุฉ:
- โ ููุญุฉ ุชุญูู ุดุงููุฉ ููุฅุฏุงุฑุฉ
- โ ุนุฑุถ ุฅุญุตุงุฆูุงุช ุชูุตูููุฉ
- โ ููุงุชุฑ ุจุญุซ ูุชูุฏูุฉ
- โ ุฅุฏุงุฑุฉ ุงูููุงุนูุฏ (ููุงููุฉ/ุฑูุถ)
- โ ุฅุถุงูุฉ ููุงุญุธุงุช ุฅุฏุงุฑูุฉ
- โ ูุธุงู ุชุณุฌูู ุฏุฎูู ุขูู

## ๐ ูููู ุงููุดุฑูุน

```
appoi_system/
โโโ api/                     # Backend API
โ   โโโ config/
โ   โ   โโโ database.php     # ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ index.php           # ููุทุฉ ุฏุฎูู ุงูู API
โโโ index.html              # ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
โโโ booking.html            # ุตูุญุฉ ุญุฌุฒ ุงูููุงุนูุฏ
โโโ admin-login.html        # ุตูุญุฉ ุฏุฎูู ุงูุฅุฏุงุฑุฉ
โโโ admin-dashboard.html    # ููุญุฉ ุชุญูู ุงูุฅุฏุงุฑุฉ
โโโ database.sql           # ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ README.md              # ูุฐุง ุงูููู
```

## ๐ ุทุฑููุฉ ุงูุชุดุบูู

### 1. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
```sql
-- ูู ุจุชุดุบูู ูุญุชูู ููู database.sql ูู phpMyAdmin ุฃู MySQL
-- ุฃู ุงุณุชุฎุฏู ุงูุฃูุฑ ุงูุชุงูู:
mysql -u root -p < database.sql
```

### 2. ุฅุนุฏุงุฏ ุงูุฎุงุฏู ุงููุญูู
```bash
# ุถุน ุงููููุงุช ูู ูุฌูุฏ htdocs ูู XAMPP
# ุฃู ุงุณุชุฎุฏู PHP built-in server
cd /path/to/appoi_system
php -S localhost:8000
```

### 3. ุงููุตูู ูููุธุงู
- **ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ**: `http://localhost:8000/index.html`
- **ุญุฌุฒ ููุนุฏ**: `http://localhost:8000/booking.html`
- **ุฏุฎูู ุงูุฅุฏุงุฑุฉ**: `http://localhost:8000/admin-login.html`

## ๐ ุจูุงูุงุช ุงูุฏุฎูู ููุฅุฏุงุฑุฉ

```
ุงุณู ุงููุณุชุฎุฏู: admin
ูููุฉ ุงููุฑูุฑ: admin123
```

## ๐จ ุงูุชุตููู ูุงูุฃููุงู

ุงูุชุตููู ูุณุชููู ูู ูููุน ูุฑุต (https://furas.momah.gov.sa/ar) ููุชุถูู:

### ุงูุฃููุงู ุงูุฃุณุงุณูุฉ:
- **ุงูุฃุฒุฑู ุงูุฃุณุงุณู**: `#1e3a8a` - `#3b82f6`
- **ุงูุฃุฎุถุฑ ุงููููุฒ**: `#10b981` - `#059669`
- **ุงูุฃุตูุฑ ุงูุชุญุฐูุฑู**: `#f59e0b`
- **ุงูุฃุญูุฑ ููุชุญุฐูุฑุงุช**: `#ef4444`

### ุงููููุฒุงุช ุงูุชุตููููุฉ:
- ุชุฏุฑุฌุงุช ููููุฉ ุฌุฐุงุจุฉ
- ุธูุงู ูุงุนูุฉ ูุงูุชูุงูุงุช ุณูุณุฉ
- ุฑููุฒ Font Awesome
- ุฎุท Cairo ูููุตูุต ุงูุนุฑุจูุฉ
- ุชุตููู ูุชุฌุงูุจ ุจุงุณุชุฎุฏุงู Bootstrap 5

## ๐ฑ ุตูุญุงุช ุงููุธุงู

### 1. ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ (`index.html`)
- **ููุฏุฑ**: ุดุนุงุฑ ุงููุธุงู ูุฑูุงุจุท ุงูุชููู
- **ููุฑู ุณูุดู**: ุนููุงู ุชุฑุญูุจู ููุตู ุงููุธุงู
- **ุฅุญุตุงุฆูุงุช**: ุนุฏุฏ ุงููุณุชููุฏูู ูุงูููุงุนูุฏ
- **ุนู ุงูููุตุฉ**: ููุฏูุฉ ุชุฑุญูุจูุฉ
- **ุฎุฏูุงุชูุง**: ุนุฑุถ ุงูุฎุฏูุงุช ุงููุชุงุญุฉ
- **ููุชุฑ**: ูุนูููุงุช ุงูุชูุงุตู ูุฑูุงุจุท ูููุฉ

### 2. ุตูุญุฉ ุญุฌุฒ ุงูููุนุฏ (`booking.html`)
- ูููุฐุฌ ุชูุงุนูู ูุญุฌุฒ ุงูููุงุนูุฏ
- ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุงููุฏุฎูุฉ
- ูุญุงูุงุฉ ุฑูุฒ SMS ููุชุฃููุฏ (123456)
- ุฑุณุงุฆู ุชุฃููุฏ ูุฃุฎุทุงุก ุชูุงุนููุฉ
- ุชุตููู responsive ููุฌูุงู

### 3. ุตูุญุฉ ุฏุฎูู ุงูุฅุฏุงุฑุฉ (`admin-login.html`)
- ูุงุฌูุฉ ุฏุฎูู ุฃูููุฉ ููุญููุฉ
- ุจูุงูุงุช ุชุฌุฑูุจูุฉ: admin / admin123
- ุฑุณุงุฆู ุฎุทุฃ ุชูุงุนููุฉ
- ุชุฃููู ุงูุฌูุณุฉ ุจุงุณุชุฎุฏุงู localStorage

### 4. ููุญุฉ ุชุญูู ุงูุฅุฏุงุฑุฉ (`admin-dashboard.html`)
- ุฅุญุตุงุฆูุงุช ุดุงููุฉ ููููุงุนูุฏ
- ุฌุฏูู ุชูุงุนูู ููููุงุนูุฏ
- ููุงุชุฑ ุจุญุซ ูุชูุฏูุฉ:
  - ุงูุจุญุซ ุจุฑูู ุงููููุฉ
  - ุชุฑุชูุจ ุญุณุจ ุงูุชุงุฑูุฎ
  - ููุชุฑุฉ ุญุณุจ ุงูุญุงูุฉ
- ุฅุฌุฑุงุกุงุช ุงูููุงููุฉ ูุงูุฑูุถ
- ุฅุถุงูุฉ ููุงุญุธุงุช ุฅุฏุงุฑูุฉ
- ุนุฑุถ ุชูุงุตูู ูุงููุฉ ููููุงุนูุฏ

## ๐ง ุงูู APIs ุงููุชุงุญุฉ

### GET `/api/statistics`
```json
{
  "data": {
    "total_users": 5,
    "total_appointments": 15,
    "pending_appointments": 8,
    "approved_appointments": 5,
    "rejected_appointments": 2
  }
}
```

### GET `/api/appointments`
```json
{
  "data": [
    {
      "id": 1,
      "national_id": "1234567890",
      "full_name": "ุฃุญูุฏ ูุญูุฏ ุนูู",
      "phone_number": "0501234567",
      "appointment_date": "2025-10-10",
      "appointment_reason": "ุงุณุชุฎุฑุงุฌ ุฑุฎุตุฉ ุจูุงุก",
      "reason_description": "ูุตู ุชูุตููู...",
      "status": "pending",
      "admin_notes": null,
      "sms_code": "123456",
      "is_verified": false,
      "created_at": "2025-10-05 10:30:00",
      "updated_at": "2025-10-05 10:30:00"
    }
  ]
}
```

### POST `/api/appointments`
```json
{
  "national_id": "1234567890",
  "full_name": "ุฃุญูุฏ ูุญูุฏ ุนูู",
  "phone_number": "0501234567",
  "appointment_date": "2025-10-10",
  "appointment_reason": "ุงุณุชุฎุฑุงุฌ ุฑุฎุตุฉ ุจูุงุก",
  "reason_description": "ูุตู ุชูุตููู ููุทูุจ"
}
```

### PUT `/api/appointments/{id}`
```json
{
  "status": "approved",
  "admin_notes": "ุชู ุงูููุงููุฉ ุนูู ุงูุทูุจ"
}
```

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู ุงูููุงุนูุฏ (`appointments`)
- `id`: ูุนุฑู ูุฑูุฏ
- `national_id`: ุฑูู ุงููููุฉ ุงููุทููุฉ
- `full_name`: ุงูุงุณู ุงููุงูู
- `phone_number`: ุฑูู ุงูุฌูุงู
- `appointment_date`: ุชุงุฑูุฎ ุงูููุนุฏ ุงููุทููุจ
- `appointment_reason`: ุณุจุจ ุงูููุนุฏ
- `reason_description`: ูุตู ุชูุตููู
- `status`: ุงูุญุงูุฉ (pending/approved/rejected)
- `admin_notes`: ููุงุญุธุงุช ุงูุฅุฏุงุฑุฉ
- `sms_code`: ุฑูุฒ ุงูุชุญูู
- `is_verified`: ุญุงูุฉ ุงูุชุญูู
- `created_at`: ุชุงุฑูุฎ ุงูุฅูุดุงุก
- `updated_at`: ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ

### ุฌุฏูู ุงูุฅุญุตุงุฆูุงุช (`statistics`)
- `total_users`: ุฅุฌูุงูู ุงููุณุชุฎุฏููู
- `total_appointments`: ุฅุฌูุงูู ุงูููุงุนูุฏ
- `pending_appointments`: ุงูููุงุนูุฏ ูู ุงูุงูุชุธุงุฑ
- `approved_appointments`: ุงูููุงุนูุฏ ุงูููุจููุฉ
- `rejected_appointments`: ุงูููุงุนูุฏ ุงููุฑููุถุฉ

## ๐ฏ ุงููููุฒุงุช ุงูุชูููุฉ

### Frontend:
- **HTML5 & CSS3**: ูููู ููุธูุฑ ุญุฏูุซ
- **Bootstrap 5**: ุชุตููู ูุชุฌุงูุจ
- **Font Awesome**: ุฑููุฒ ุงุญุชุฑุงููุฉ
- **Google Fonts (Cairo)**: ุฎุท ุนุฑุจู ุฌููู
- **Vanilla JavaScript**: ุชูุงุนู ุจุฏูู ููุชุจุงุช ุฅุถุงููุฉ

### Backend:
- **PHP 7.4+**: ูุบุฉ ุงูุจุฑูุฌุฉ ุงูุฎูููุฉ
- **PDO**: ุชุนุงูู ุขูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **RESTful API**: ุชุตููู API ุงุญุชุฑุงูู
- **JSON Response**: ุงุณุชุฌุงุจุงุช ููุณูุฉ

### Database:
- **MySQL**: ูุงุนุฏุฉ ุจูุงูุงุช ููุซููุฉ
- **UTF-8**: ุฏุนู ุงููุตูุต ุงูุนุฑุจูุฉ
- **Prepared Statements**: ุญูุงูุฉ ูู SQL Injection
- **Triggers**: ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช ุชููุงุฆูุงู

## ๐ ุงูุฃูุงู

- ุญูุงูุฉ ูู SQL Injection ุจุงุณุชุฎุฏุงู PDO
- ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ูู Frontend ู Backend
- ุชุณุฌูู ุฏุฎูู ุขูู ููุฅุฏุงุฑุฉ
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุฏูู ูุดู ูุนูููุงุช ุญุณุงุณุฉ

## ๐ฑ ุงูุงุณุชุฌุงุจุฉ (Responsive)

ุงููุธุงู ูุตูู ููุนูู ุจููุงุกุฉ ุนูู:
- ๐ป ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงูููุชุจูุฉ
- ๐ป ุฃุฌูุฒุฉ ุงูููุจููุชุฑ ุงููุญูููุฉ
- ๐ฑ ุงูุฃุฌูุฒุฉ ุงูููุญูุฉ
- ๐ฑ ุงูููุงุชู ุงูุฐููุฉ

## ๐ฎ ููููุฉ ุงูุชุฌุฑุจุฉ

1. **ููููุงุทููู**:
   - ุงุฏุฎู ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
   - ุงุถุบุท "ุญุฌุฒ ููุนุฏ"
   - ุงููุฃ ุงูุจูุงูุงุช ุงููุทููุจุฉ
   - ุงุณุชุฎุฏู ุฑูุฒ ุงูุชุญูู: `123456`

2. **ููุฅุฏุงุฑุฉ**:
   - ุงุฏุฎู ุฅูู ุตูุญุฉ ุฏุฎูู ุงูุฅุฏุงุฑุฉ
   - ุงุณู ุงููุณุชุฎุฏู: `admin`
   - ูููุฉ ุงููุฑูุฑ: `admin123`
   - ุงุณุชูุดู ููุญุฉ ุงูุชุญูู ูุงูููุงุนูุฏ

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

- ุฅุถุงูุฉ ูุธุงู ุฅุดุนุงุฑุงุช ุญูููู
- ุฑุจุท ูุน ุฎุฏูุงุช SMS ุญููููุฉ
- ุฅุถุงูุฉ ูุธุงู ูุตุงุฏูุฉ ุซูุงุฆูุฉ
- ุชุทููุฑ ุชุทุจูู ุฌูุงู
- ุฅุถุงูุฉ ุชูุงุฑูุฑ ููุตูุฉ
- ูุธุงู ุญุฌุฒ ููุงุนูุฏ ุจุชูููุช ูุญุฏุฏ

## ๐ ุงูุชูุงุตู ูุงูุฏุนู

ูุฃู ุงุณุชูุณุงุฑุงุช ุฃู ูุดุงูู ุชูููุฉ:
- ๐ง Email: support@alahsa.gov.sa
- ๐ Phone: 013-580-0000
- ๐ Website: https://alahsa.gov.sa

---

**ุชู ุชุทููุฑ ูุฐุง ุงููุธุงู ุจุงุณุชุฎุฏุงู ุฃุญุฏุซ ุงูุชูููุงุช ูุฃูุถู ุงูููุงุฑุณุงุช ูู ุงูุจุฑูุฌุฉ ูุงูุชุตููู.**

ยฉ 2025 ุฃูุงูุฉ ุงูุฃุญุณุงุก - ุฌููุน ุงูุญููู ูุญููุธุฉ

```bash
curl -X PUT http://localhost/GroupTask/api/appointments/1 \
  -H "Content-Type: application/json" \
  -d '{ "appointment_date": "2025-10-01", "appointment_reason": "ุงุณุชูุณุงุฑ" }'
```

Response 200:

```json
{ "message": "Appointment updated" }
```

### Database

Expected table `appointments` with columns:
- `id` INT AUTO_INCREMENT PRIMARY KEY
- `national_id` VARCHAR(32)
- `full_name` VARCHAR(255)
- `phone_number` VARCHAR(32)
- `appointment_date` DATE
- `appointment_reason` VARCHAR(255)
- `reason_description` TEXT
- `created_at` DATETIME

Update database credentials in `api/config/database.php` if needed.


